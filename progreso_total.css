/* ================================================
   PÁGINAS DE REPORTE / IMPRESIÓN (oscuro mínimo)
   ================================================ */

/* -------- Tokens base -------- */
:root{
  --ff: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

  --text: #eef2f6;
  --hdr-bg: rgba(18,19,21,.82);
  --hdr-bd: rgba(255,255,255,.08);
  --hover-tint: rgba(255,255,255,.10);

  --card-bg: #fff;
  --card-bd: #e5e7eb;

  --th-bg: #f3f4f6;
  --cell-bd: #e6e6e6;
  --zebra: #fafafa;

  --radius: 14px;
  --shadow: 0 10px 28px rgba(0,0,0,.25);
}

/* -------- Base -------- */
*{ box-sizing: border-box; }
html, body{ height:100%; }
body{
  margin:0;
  font-family:var(--ff);
  color:#111;
  background: #000000;            /* fondo negro, sin imagen */
}

/* -------- Header (igual al resto) -------- */
header{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:14px 28px;
  background: var(--hdr-bg);
  border-bottom: 1px solid var(--hdr-bd);
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  box-shadow: 0 6px 20px rgba(0,0,0,.20);
  position:relative; z-index:10;
}
.logo_direca img{ width:70px; display:block; }
.logo img{ width: clamp(160px, 22vw, 300px); display:block; }
nav{ flex:1 1 auto; display:flex; justify-content:center; }
.nav-links{ display:flex; align-items:center; gap:22px; list-style:none; margin:0; padding:0; }
.nav-links a{
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:8px;
  font-weight:700; color:#fff; text-decoration:none;
  transition: background-color .18s ease, transform .18s ease;
}
.nav-links a:hover{ background: var(--hover-tint); transform: translateY(-1px); }

/* -------- Contenedor principal -------- */
.page-wrap{ padding: 22px 0 10px; }

/* Tarjeta blanca “cuadrada” y centrada */
.card{
  width: 98vw;                 /* ahora 98% del ancho de página */
  margin: 0 auto;
  background: var(--card-bg);
  border: 1px solid var(--card-bd);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px 18px 12px;
}
.card > h2{
  margin: 0 0 6px 0;
  font-size: clamp(18px, 2vw, 22px);
  font-weight: 800;
  color:#111;
}
.card > .desc{
  margin: 0 0 8px 0;
  color:#6b7280;
  font-size: 12px;
}

/* -------- Tabla -------- */
.table-wrap{
  border-radius: 12px;
  background: #fff;
  /* SIN scroll horizontal */
  overflow: visible;
}

table.data{
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;         /* columnas con ancho controlado */
  font-size: 11px;             /* más pequeño */
  line-height: 1.22;
  color:#111;
  background:#fff;
}

table.data thead th{
  background: var(--th-bg);
  text-align: center;
  font-weight: 400;            /* sin negrita */
  border: 1px solid var(--cell-bd);
  padding: 8px 8px;
  white-space: normal;         /* permite salto en 'I Periodo (abs)' */
}

/* Celdas */
table.data td{
  border: 1px solid var(--cell-bd);
  padding: 7px 8px;
  background:#fff;
  vertical-align: top;
  word-wrap: break-word;
  overflow-wrap: anywhere;
}
table.data tbody tr:nth-child(even){ background: var(--zebra); }
table.data .num{ text-align: right; }

/* --- Proporciones de columnas --- */
/* 1 Obj | 2 Ind | 3 Cant | 4 Acts | 5 Período | 6 Resp | 7-11 Números */
/* ÚNICA que crece: la 1 (Objetivo…) */
table.data thead th:nth-child(1),
table.data tbody td:nth-child(1){ width: 30%; }   /* ↑ antes ~24% */
/* Las demás se mantienen salvo porcentajes */
table.data thead th:nth-child(2),
table.data tbody td:nth-child(2){ width: 18%; }
table.data thead th:nth-child(3),
table.data tbody td:nth-child(3){ width: 58px; }
table.data thead th:nth-child(4),
table.data tbody td:nth-child(4){ width: 14%; }
table.data thead th:nth-child(5),
table.data tbody td:nth-child(5){ width: 10%; }
table.data thead th:nth-child(6),
table.data tbody td:nth-child(6){ width: 14%; }

/* ABS (se conservan) */
table.data thead th:nth-child(7),
table.data tbody td:nth-child(7),
table.data thead th:nth-child(9),
table.data tbody td:nth-child(9){ width: 72px; }

/* % (más pequeñas) */
table.data thead th:nth-child(8),
table.data tbody td:nth-child(8),
table.data thead th:nth-child(10),
table.data tbody td:nth-child(10){ width: 64px; }
table.data thead th:nth-child(11),
table.data tbody td:nth-child(11){ width: 56px; }

/* Placeholder */
.placeholder{
  text-align:center;
  color:#6b7280;
  font-style: italic;
}

/* -------- Barra de acciones (imprimir) -------- */
.table-toolbar{
  width: 98vw;                /* acompaña al 98% */
  margin: 12px auto 24px;
  text-align: left;
}
.btn-print{
  display:inline-flex; align-items:center; gap:10px;
  padding:10px 14px; border-radius: 10px;
  background:#0f0f0f; border:1px solid #0f0f0f; color:#fff;
  font-weight:800; cursor:pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,.2);
  transition: background-color .2s ease, transform .06s ease;
}
.btn-print:hover{ background:#171717; }
.printer-icon{
  width:18px; height:18px; display:inline-block; object-fit:contain;
  filter: brightness(0) invert(1); /* por si tu PNG es oscuro */
}

/* -------- Impresión (solo tabla + logos) -------- */
@media print{
  @page{ margin: 14mm 12mm; }

  body{ background:#fff; color:#111; }
  header{
    background:#fff !important;
    border:none !important;
    box-shadow:none !important;
    padding: 8px 0 6px;
  }
  /* ocultar menú/textos del header; dejar SOLO las imágenes */
  header nav, header .nav-links, header a{ display:none !important; }
  .logo_direca img{ width:58px; }
  .logo img{ width:220px; }

  .page-wrap{ padding:0; }
  .card{
    width: 100% !important;
    border:none; box-shadow:none; border-radius:0;
    padding: 0;
  }
  .card > h2, .card > .desc{ display:none !important; }

  .table-wrap{ overflow:visible; border-radius:0; }
  table.data{
    font-size: 10.5px;      /* aún más compacto al imprimir */
    width: 100%;
  }

  .nonprint{ display:none !important; }
}

/* =========================================================
   REPORTE / IMPRESIÓN — OVERRIDES MÓVILES
   - Scroll horizontal SOLO en la tabla
   - Tipografía y paddings mayores para legibilidad
   - Separación extra en columnas ABS/% (7–11)
   - Escritorio: sin cambios
   ========================================================= */

/* ====== MÓVIL / TABLET PEQUEÑA (≤720px) ====== */
@media (max-width: 720px){

  /* El scroll horizontal vive en la tabla, no en la página */
  body{ width:auto !important; overflow-x:hidden; }

  .table-wrap{
    overflow-x: auto !important;        /* ← scroll horizontal visible */
    -webkit-overflow-scrolling: touch;
  }

  /* “Ancho virtual” amplio para que no se comprima nada
     (se respeta tu reparto de columnas existente) */
  .table-wrap > table.data{
    min-width: 1320px;                   /* ajusta a gusto (1300–1500) */
  }

  /* Más grande y con más aire en móvil */
  table.data{
    font-size: 12px;                     /* ↑ de 11px → 12px */
    line-height: 1.35;
  }
  table.data th, table.data td{
    padding: 9px 12px;                   /* ↑ más separación visual */
  }

  /* Evitar saltos del sticky con gestos de zoom/scroll en móvil */
  table.data thead th{ position: static; }

  /* ======================
     Cols numéricas 7–11
     ====================== */

  /* ABS (7 y 9): un poco más anchas, alineadas a la derecha */
  table.data thead th:nth-child(7),
  table.data tbody td:nth-child(7),
  table.data thead th:nth-child(9),
  table.data tbody td:nth-child(9){
    min-width: 84px;                     /* antes 72px base */
    text-align: right;
    font-variant-numeric: tabular-nums;
  }

  /* % (8, 10, 11): más aire a la izquierda y mínimo de ancho */
  table.data thead th:nth-child(8),
  table.data tbody td:nth-child(8),
  table.data thead th:nth-child(10),
  table.data tbody td:nth-child(10),
  table.data thead th:nth-child(11),
  table.data tbody td:nth-child(11){
    min-width: 76px;                     /* antes 56–64px base */
    padding-left: 16px;                  /* separa texto ↔ números */
    text-align: right;
    font-variant-numeric: tabular-nums;
  }

  /* Línea divisoria antes del primer % (col 8) para separar ABS vs % */
  table.data thead th:nth-child(8),
  table.data tbody td:nth-child(8){
    border-left-width: 2px;
    border-left-style: solid;
    border-left-color: var(--cell-bd);
  }

  /* “Cantidad” (3): mínimo para que no se apriete */
  table.data thead th:nth-child(3),
  table.data tbody td:nth-child(3){
    min-width: 66px;                     /* antes 58px */
  }
}

/* ====== MÓVIL PEQUEÑO (≤520px) ====== */
@media (max-width: 520px){

  .table-wrap{
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  /* Aún más ancho “virtual” → mejor lectura con scroll */
  .table-wrap > table.data{
    min-width: 1440px;                   /* sube para pantallas muy chicas */
  }

  table.data{
    font-size: 12px;                     /* mantenemos tamaño legible */
    line-height: 1.38;
  }
  table.data th, table.data td{
    padding: 10px 12px;               
  }

  /* Refuerzo ABS/% */
  table.data thead th:nth-child(7),
  table.data tbody td:nth-child(7),
  table.data thead th:nth-child(9),
  table.data tbody td:nth-child(9){
    min-width: 90px;
  }
  table.data thead th:nth-child(8),
  table.data tbody td:nth-child(8),
  table.data thead th:nth-child(10),
  table.data tbody td:nth-child(10),
  table.data thead th:nth-child(11),
  table.data tbody td:nth-child(11){
    min-width: 82px;
    padding-left: 18px;
  }

  /* “Cantidad” (3) un toque más holgada aún */
  table.data thead th:nth-child(3),
  table.data tbody td:nth-child(3){
    min-width: 70px;
  }
}

/* =========================================================
   TABLA — MODO COMPACTO (todo más pequeño)
   - Mantiene proporciones/estructura
   - Reduce font-size, paddings y anchos mínimos
   - No toca el header ni la impresión
   ========================================================= */

/* --- Base (escritorio incluido) --- */
table.data{
  font-size: 10px !important;        /* antes 11px */
  line-height: 1.18 !important;      /* más ceñido */
}
table.data th, table.data td{
  padding: 5px 6px !important;       /* antes 7–8px */
}
table.data thead th{
  padding: 6px 6px !important;
  font-weight: 400;                   /* sin negrita, como tenías */
}

/* Ajustes puntuales de ancho (pixeles) sin cambiar proporciones % */
table.data thead th:nth-child(3),
table.data tbody td:nth-child(3){     /* Cantidad */
  width: 52px !important;             /* antes 58px */
}
table.data thead th:nth-child(7),
table.data tbody td:nth-child(7),
table.data thead th:nth-child(9),
table.data tbody td:nth-child(9){     /* ABS (I / II absolutos) */
  width: 64px !important;             /* antes 72px */
}
table.data thead th:nth-child(8),
table.data tbody td:nth-child(8),
table.data thead th:nth-child(10),
table.data tbody td:nth-child(10){    /* % (I% / II%) */
  width: 56px !important;             /* antes 64px */
}
table.data thead th:nth-child(11),
table.data tbody td:nth-child(11){    /* Avance total % */
  width: 50px !important;             /* antes 56px */
}

/* Separación más sutil para las columnas de % */
table.data thead th:nth-child(8),
table.data tbody td:nth-child(8),
table.data thead th:nth-child(10),
table.data tbody td:nth-child(10),
table.data thead th:nth-child(11),
table.data tbody td:nth-child(11){
  padding-left: 12px !important;      /* antes 16–18px */
  text-align: right;
  font-variant-numeric: tabular-nums;
}
/* Línea divisoria más discreta antes del primer % */
table.data thead th:nth-child(8),
table.data tbody td:nth-child(8){
  border-left-width: 1px !important;
}

/* =========================================================
   MÓVIL / TABLET PEQUEÑA (≤720px) — compacto + scroll en tabla
   ========================================================= */
@media (max-width: 720px){

  .table-wrap{
    overflow-x: auto !important;      /* scroll horizontal solo en tabla */
    -webkit-overflow-scrolling: touch;
  }

  .table-wrap > table.data{
    min-width: 1200px !important;     /* antes 1320px */
  }

  table.data{
    font-size: 10px !important;       /* ↓ respecto a 12px que pusimos */
    line-height: 1.2 !important;
  }
  table.data th, table.data td{
    padding: 6px 8px !important;      /* menos aire, sigue legible */
  }

  /* Refuerzos mínimos para números */
  table.data thead th:nth-child(7),
  table.data tbody td:nth-child(7),
  table.data thead th:nth-child(9),
  table.data tbody td:nth-child(9){
    min-width: 72px !important;       /* acorde con el shrink */
  }
  table.data thead th:nth-child(8),
  table.data tbody td:nth-child(8),
  table.data thead th:nth-child(10),
  table.data tbody td:nth-child(10),
  table.data thead th:nth-child(11),
  table.data tbody td:nth-child(11){
    min-width: 64px !important;
    padding-left: 12px !important;
  }

  table.data thead th:nth-child(3),
  table.data tbody td:nth-child(3){
    min-width: 54px !important;
  }
}

/* =========================================================
   MÓVIL PEQUEÑO (≤520px) — aún más pequeño
   ========================================================= */
@media (max-width: 520px){

  .table-wrap{
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  .table-wrap > table.data{
    min-width: 1280px !important;     /* antes 1440px */
  }

  table.data{
    font-size: 9.5px !important;
    line-height: 1.18 !important;
  }
  table.data th, table.data td{
    padding: 5px 6px !important;
  }

  /* Números/porcentajes un poco más estrechos */
  table.data thead th:nth-child(7),
  table.data tbody td:nth-child(7),
  table.data thead th:nth-child(9),
  table.data tbody td:nth-child(9){
    min-width: 68px !important;
  }
  table.data thead th:nth-child(8),
  table.data tbody td:nth-child(8),
  table.data thead th:nth-child(10),
  table.data tbody td:nth-child(10),
  table.data thead th:nth-child(11),
  table.data tbody td:nth-child(11){
    min-width: 60px !important;
    padding-left: 10px !important;
  }

  table.data thead th:nth-child(3),
  table.data tbody td:nth-child(3){
    min-width: 52px !important;
  }
}
